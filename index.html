<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>refresh the mind</title>
    <!-- Use the Inter font from Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .gaming-bg {
            background-color: #1a1a2e; /* Dark purple-blue */
            color: #e0e0e0;
        }
        .accent-blue {
            background-color: #007bff; /* Blue */
            color: white;
        }
        .accent-orange {
            background-color: #ff5722; /* Orange */
            color: white;
        }
        .accent-green {
            background-color: #4caf50; /* Green */
            color: white;
        }
        .accent-yellow {
            background-color: #ffeb3b; /* Yellow */
            color: black;
        }
        .table-container {
            border: 2px solid #ffeb3b;
            border-radius: 1rem;
            overflow: hidden;
            background-color: #2b2b48;
        }
        .table-header {
            background-color: #007bff;
        }
        .table-cell {
            padding: 1rem;
            border-bottom: 1px solid #4a4a6e;
            border-right: 1px solid #4a4a6e;
        }
        .table-cell:last-child {
            border-right: none;
        }
        .table-row:last-child .table-cell {
            border-bottom: none;
        }
        /* Custom gradient text classes for common mistakes */
        .gradient-red-blue {
            background: linear-gradient(to right, #ef4444, #60a5fa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .gradient-green-yellow {
            background: linear-gradient(to right, #4caf50, #ffeb3b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .section-container {
            margin-bottom: 2rem;
        }
        .match-card {
            cursor: pointer;
            transition: transform 0.2s, background-color 0.2s;
        }
        .match-card:hover {
            transform: scale(1.03);
        }
        .selected {
            border: 2px solid #ffeb3b;
            background-color: #4a4a6e;
        }
        .correct {
            border: 2px solid #4caf50;
            background-color: #3b503c;
            pointer-events: none;
        }
        .incorrect {
            border: 2px solid #ef4444;
            background-color: #503b3b;
        }
    </style>
</head>
<body class="gaming-bg p-4 flex flex-col items-center justify-center min-h-screen">

    <!-- Main Container -->
    <div class="max-w-4xl w-full p-6 rounded-3xl shadow-lg bg-gray-800 bg-opacity-70 flex flex-col space-y-8">

        <!-- Header -->
        <header class="text-center">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-white tracking-wide mb-2">refresh the mind</h1>
            <p class="text-lg sm:text-xl text-gray-300">Nível 1</p>
        </header>

        <!-- Main Content Section -->
        <main class="w-full">
            <div id="content-container">
                <!-- Content will be generated by JavaScript -->
            </div>
            <div id="matching-exercise-container" class="mt-8 section-container"></div>
            <div id="translation-exercise-container" class="mt-8 section-container"></div>
        </main>
    </div>

    <script>
        // Global variables for Firebase - though not used in this version
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        // The core phrase data
        const phrases = [
            {
                heading: "Aprenda a frase: Eu sou",
                french: "Je suis",
                pronunciation: "JE SUÍ",
                brazilian: "Eu sou / Eu estou",
                commonMistakes: [
                    "Usar 'Je suis' para idade, que é o verbo 'ter' em português.",
                    "Confundir 'Je suis' (Eu sou) com 'J'ai' (Eu tenho)."
                ],
                consolidation: "Em francês, para estado ou qualidade, use 'Je suis' (Eu sou). Para posse, idade e algumas emoções, use 'J'ai' (Eu tenho).",
                example: "Exemplo: <span class='gradient-red-blue'>Je suis</span> étudiant. / <span class='gradient-green-yellow'>J'ai</span> un livre."
            },
            {
                heading: "Aprenda a frase: Eu tenho 30 anos",
                french: "J'ai 30 ans",
                pronunciation: "JÊI TRANT AN",
                brazilian: "Eu tenho 30 anos",
                commonMistakes: [
                    "Literalmente traduzir 'Eu sou 30 anos' para 'Je suis 30 ans', que é incorreto.",
                    "Confundir 'avoir' (ter) com 'être' (ser/estar) para expressar idade."
                ],
                consolidation: "O verbo correto para expressar idade em francês é 'avoir' ('ter'), não 'être' ('ser').",
                example: "Exemplo: <span class='gradient-red-blue'>J'ai 30 ans.</span> / <span class='gradient-green-yellow'>J'ai 25 ans.</span>"
            },
            {
                heading: "Aprenda a frase: Eu sou analista financeiro",
                french: "Je suis analyste financier",
                pronunciation: "JE SUÍ ANALISTE FINANSIÊ",
                brazilian: "Eu sou analista financeiro",
                commonMistakes: [
                    "Confundir os verbos 'être' ('ser') e 'avoir' ('ter').",
                    "Adicionar o artigo 'un'/'une' quando se fala de profissão, o que é muitas vezes omitido."
                ],
                consolidation: "Use o verbo 'être' para falar sobre uma profissão, não 'avoir'. O artigo (un/une) é frequentemente omitido para cargos e profissões.",
                example: "Exemplo: <span class='gradient-red-blue'>Je suis médecin.</span> / <span class='gradient-green-yellow'>Je suis architecte.</span>"
            },
            {
                heading: "Aprenda a frase: Eu trabalho na...",
                french: "Je travaille chez...",
                pronunciation: "JE TRAVAÍ CHE",
                brazilian: "Eu trabalho na...",
                commonMistakes: [
                    "Usar a preposição errada como 'à' ou 'dans' em vez de 'chez' para empresas.",
                    "Esquecer a preposição 'chez' que significa 'na casa de' ou 'na empresa de'."
                ],
                consolidation: "A preposição 'chez' é usada para indicar que você trabalha em uma empresa ou na casa de alguém. É a preposição mais comum para este contexto.",
                example: "Exemplo: <span class='gradient-red-blue'>Je travaille chez Google.</span> / <span class='gradient-green-yellow'>Je travaille chez IBM.</span>"
            },
            {
                heading: "Aprenda a frase: pessoal",
                french: "le personnel",
                pronunciation: "LE PÊRSONÉL",
                brazilian: "pessoas / funcionários no time",
                commonMistakes: [
                    "Literalmente traduzir 'pessoal' para 'personnel' mas sem o artigo 'le' ou 'la'.",
                    "Confundir com a palavra 'personnel' que pode ser um adjetivo para 'pessoal'."
                ],
                consolidation: "O substantivo 'pessoal' é 'le personnel' (masculino). Se você quiser dizer 'pessoal' como um adjetivo (meus assuntos pessoais), use 'personnels' (pl. masculino) ou 'personnelles' (pl. feminino).",
                example: "Exemplo: Le <span class='gradient-red-blue'>personnel</span> est très compétent. / J'ai des affaires <span class='gradient-green-yellow'>personnelles</span> à résoudre."
            },
            {
                heading: "Aprenda a frase: Eu me reporto a...",
                french: "Je me rapporte à...",
                pronunciation: "JE ME RRAPÓRTE A",
                brazilian: "Eu me reporto a...",
                commonMistakes: [
                    "Não usar o verbo pronominal 'se rapporter' para 'se reportar'.",
                    "Não usar a preposição 'à' com este verbo."
                ],
                consolidation: "A forma correta é 'se rapporter à' para indicar a quem você se reporta. Lembre-se do pronome reflexivo 'me'.",
                example: "Exemplo: <span class='gradient-red-blue'>Je me rapporte à</span> John. / <span class='gradient-green-yellow'>Je me rapporte à</span> la directrice."
            },
            {
                heading: "Aprenda a frase: ir para...",
                french: "aller à...",
                pronunciation: "ALÊ A",
                brazilian: "ir para... / ir a...",
                commonMistakes: [
                    "Usar a preposição errada, como 'pour' ou 'dans' em vez de 'à'.",
                    "Não fazer a contração da preposição 'à' com o artigo 'le' para 'au' ou 'les' para 'aux'."
                ],
                consolidation: "O verbo 'aller' ('ir') é seguido pela preposição 'à'. A preposição 'à' se contrai com o artigo definido ('le' ou 'les') para formar 'au' ou 'aux'.",
                example: "Exemplo: <span class='gradient-red-blue'>Je vais au parc</span> (Eu vou para o parque). / <span class='gradient-green-yellow'>Je vais à la plage</span> (Eu vou para a praia)."
            },
            {
                heading: "Aprenda a frase: A sede fica em...",
                french: "Le siège social est à...",
                pronunciation: "LE SIÊJE SOSIAL ÊT A",
                brazilian: "A sede fica em...",
                commonMistakes: [
                    "Literalmente traduzir 'fica' como 'reste' ou 'demeure', que é incorreto.",
                    "Não saber que 'siège social' é um substantivo masculino e requer o artigo 'le'."
                ],
                consolidation: "Use o verbo 'être' (ser/estar) para a localização de uma sede social. 'Siège social' é masculino, então use 'le'.",
                example: "Exemplo: <span class='gradient-red-blue'>Le siège social est à Paris.</span> / <span class='gradient-green-yellow'>Le siège social est à Londres.</span>"
            },
            {
                heading: "Aprenda a frase: em (nome da região)",
                french: "en...",
                pronunciation: "AN",
                brazilian: "em...",
                commonMistakes: [
                    "Confundir 'en' com 'dans' ou 'à'.",
                    "Usar a preposição errada para cidades ou países, esquecendo a regra de gênero."
                ],
                consolidation: "A preposição 'en' é usada para países femininos e regiões (En France), enquanto 'au' é para países masculinos (Au Brésil). Para cidades, usa-se 'à' (À Paris).",
                example: "Exemplo: J'habite <span class='gradient-red-blue'>en</span> France. / Eu moro <span class='gradient-green-yellow'>na</span> França."
            },
            {
                heading: "Aprenda a frase: treinamento presencial",
                french: "formation en présentiel",
                pronunciation: "FORMA-SIÓN AN PREZÂN-SIEL",
                brazilian: "treinamento presencial",
                commonMistakes: [
                    "Literalmente traduzir 'in-person' que resulta em uma ordem de palavras incorreta.",
                    "Não saber que 'en présentiel' é uma expressão idiomática comum para 'presencial'."
                ],
                consolidation: "A frase 'formation en présentiel' é a tradução padrão e amplamente utilizada. Evite a tradução literal para evitar a ordem de palavras incorreta.",
                example: "Exemplo: Nous avons une <span class='gradient-red-blue'>formation en présentiel</span> au bureau aujourd'hui. / O novo <span class='gradient-green-yellow'>treinamento presencial</span> será realizado na próxima semana."
            },
            {
                heading: "Aprenda a frase: reunião presencial",
                french: "réunion en présentiel",
                pronunciation: "RREÜNIÓN AN PREZÂN-SIEL",
                brazilian: "reunião presencial",
                commonMistakes: [
                    "Confundir a tradução de 'reunião' com 'encontro', que é usado para encontros sociais.",
                    "Não saber que em francês o adjetivo 'en présentiel' vem após o substantivo 'réunion'."
                ],
                consolidation: "Lembre-se que 'réunion en présentiel' é o termo padrão para uma reunião de negócios. A ordem das palavras é diferente do português, com o adjetivo vindo após o substantivo.",
                example: "Exemplo: Nous avons une <span class='gradient-red-blue'>réunion en présentiel</span>. / Nós temos uma <span class='gradient-green-yellow'>reunião presencial</span>."
            },
            {
                heading: "Aprenda a frase: Eu terei",
                french: "J'aurai",
                pronunciation: "JÓ-RÊ",
                brazilian: "Eu terei",
                commonMistakes: [
                    "Usar 'Je vais avoir' em vez de 'J'aurai', que é o futuro simples.",
                    "Não saber a conjugação do verbo 'avoir' (ter) no futuro."
                ],
                consolidation: "Lembre-se que 'aurai' é o futuro do verbo 'avoir' (ter). É a forma mais formal e direta para expressar o futuro.",
                example: "Exemplo: <span class='gradient-red-blue'>J'aurai</span> une réunion. / <span class='gradient-green-yellow'>J'aurai</span> une voiture."
            },
            {
                heading: "Aprenda a frase: Eu tenho",
                french: "J'ai",
                pronunciation: "JÊI",
                brazilian: "Eu tenho",
                commonMistakes: [
                    "Literalmente traduzir 'Eu tenho' para 'Je ai', que não tem a forma de contração.",
                    "Confundir a pronúncia do 'J' com o 'I'."
                ],
                consolidation: "A frase 'J'ai' é a forma contraída de 'Je ai', significando 'Eu tenho'. Lembre-se de usar a contração para ter a forma correta.",
                example: "Exemplo: <span class='gradient-red-blue'>J'ai</span> une voiture. / <span class='gradient-green-yellow'>J'ai</span> un nouveau travail."
            },
            {
                heading: "Aprenda a frase: estou bem!",
                french: "pas mal !",
                pronunciation: "PÁ MAL",
                brazilian: "estou bem",
                commonMistakes: [
                    "Literalmente traduzir 'estou bem' para 'je suis bien', que pode ser usado mas é menos comum em conversas informais.",
                    "Não saber que 'pas mal' é uma expressão comum e natural para 'bem'."
                ],
                consolidation: "Embora 'je suis bien' ou 'je vais bien' estejam corretos, 'pas mal !' é uma resposta muito comum e informal em francês. Lembre-se de sempre usar 'pas mal' para esta tradução.",
                example: "Exemplo: Comment ça va? - <span class='gradient-red-blue'>Pas mal!</span>"
            },
            {
                heading: "Aprenda a frase: na empresa",
                french: "au travail",
                pronunciation: "Ó TRAVAÍ",
                brazilian: "na empresa",
                commonMistakes: [
                    "Usar a preposição errada, como 'à la travail' ou 'chez travail'.",
                    "Não saber que 'au travail' é a forma contraída de 'à le travail' para 'no trabalho'."
                ],
                consolidation: "Lembre-se que 'au travail' é a contração correta de 'à le travail'. É a maneira padrão de dizer 'no trabalho' quando se refere ao seu emprego ou empresa.",
                example: "Exemplo: Je suis <span class='gradient-red-blue'>au travail</span>. / Eu estou <span class='gradient-green-yellow'>na empresa</span>."
            },
            {
                heading: "Aprenda a frase: na proxima sexta",
                french: "vendredi prochain",
                pronunciation: "VANDRE-DI PRO-CHIN",
                brazilian: "na próxima sexta",
                commonMistakes: [
                    "Adicionar a preposição 'le' antes de 'vendredi prochain', o que é desnecessário.",
                    "Confundir a ordem das palavras e dizer 'prochain vendredi', que é incorreto."
                ],
                consolidation: "Em francês, você não usa preposição antes de 'prochain' quando se refere a um dia específico da semana. Basta dizer 'vendredi prochain'.",
                example: "Exemplo: J'ai une réunion <span class='gradient-red-blue'>vendredi prochain</span>. / Eu tenho uma reunião <span class='gradient-green-yellow'>na próxima sexta</span>."
            },
            {
                heading: "Aprenda a frase: na sexta",
                french: "le vendredi",
                pronunciation: "LE VANDRE-DI",
                brazilian: "na sexta",
                commonMistakes: [
                    "Não usar o artigo 'le' antes do dia da semana, que é necessário para 'na sexta'.",
                    "Confundir 'le vendredi' (na sexta, no geral) com 'vendredi' (esta sexta)."
                ],
                consolidation: "Em francês, você usa o artigo 'le' para falar de algo que acontece 'todas as sextas-feiras'. Se for 'nesta sexta', use apenas 'vendredi'.",
                example: "Exemplo: J'ai une réunion <span class='gradient-red-blue'>le vendredi</span>. / Eu tenho uma reunião <span class='gradient-green-yellow'>na sexta-feira</span>."
            },
            {
                heading: "Aprenda a frase: às (horário)",
                french: "à (heure)",
                pronunciation: "A",
                brazilian: "às (horário)",
                commonMistakes: [
                    "Usar a preposição errada ou não usá-la.",
                    "Não saber que 'à' é a preposição para tempo em francês."
                ],
                consolidation: "Lembre-se que 'à' é a preposição correta para indicar uma hora específica em francês. Use-a para um horário específico.",
                example: "Exemplo: La réunion est <span class='gradient-red-blue'>à 15h</span>. / A reunião é <span class='gradient-green-yellow'>às 3 da tarde</span>."
            },
            {
                heading: "Aprenda a frase: Estou já conectando / Estou na reunião",
                french: "Je suis connecté(e) / Je suis dans la réunion",
                pronunciation: "JE SUÍ CONECTÉ / JE SUÍ DAN LA RREÜNIÓN",
                brazilian: "Estou já conectando / Estou na reunião",
                commonMistakes: [
                    "Usar a tradução literal de 'conectando' (connectant), o que é incorreto para o contexto de uma reunião.",
                    "Não saber que 'connecté' ou 'dans la réunion' são as expressões comuns."
                ],
                consolidation: "Use **Je suis connecté(e)** para dizer que você está conectado, e **Je suis dans la réunion** para dizer que está dentro da reunião. Ambas as frases são corretas.",
                example: "Exemplo: La réunion commence. <span class='gradient-red-blue'>Je suis connecté.</span> / <span class='gradient-green-yellow'>Je suis dans la réunion.</span>"
            },
            {
                heading: "Aprenda a frase: Terminei",
                french: "J'ai fini / J'ai terminé",
                pronunciation: "JÊI FINÍ / JÊI TÊRMINÉ",
                brazilian: "Terminei",
                commonMistakes: [
                    "Literalmente traduzir 'Terminei' para 'Je terminais', que é um tempo verbal diferente.",
                    "Não usar o verbo 'avoir' (ter) para formar o 'passé composé'."
                ],
                consolidation: "Use o 'passé composé' com o verbo 'avoir' para expressar uma ação concluída. 'J'ai fini' e 'J'ai terminé' são as formas corretas. 'Fini' é mais comum e informal.",
                example: "Exemplo: <span class='gradient-red-blue'>J'ai fini</span> mes devoirs. / <span class='gradient-green-yellow'>J'ai terminé</span> ma présentation."
            },
            {
                heading: "Aprenda a frase: Tudo bem ?",
                french: "Ça va ?",
                pronunciation: "SA VA",
                brazilian: "Tudo bem?",
                commonMistakes: [
                    "Literalmente traduzir 'tudo bem' para 'tout va bien', que é mais formal.",
                    "Não usar a entonação correta para a pergunta."
                ],
                consolidation: "**Ça va?** é a forma mais comum e informal de perguntar 'Tudo bem?'. A resposta também é **Ça va!** com uma entonação positiva.",
                example: "Exemplo: Ça va? - Ça va, et toi? (Tudo bem? - Tudo bem, e você?)"
            },
            {
                heading: "Aprenda a frase: Eu estou assistindo TV",
                french: "Je regarde la télé",
                pronunciation: "JE REGARD LA TELÉ",
                brazilian: "Eu estou assistindo TV",
                commonMistakes: [
                    "Literalmente traduzir a construção 'estar + gerúndio' para 'Je suis regardant la télé', que é incorreto.",
                    "Usar o verbo 'voir' (ver) em vez de 'regarder' (assistir) para TV."
                ],
                consolidation: "Em francês, para uma ação em progresso, você usa o tempo presente simples. O verbo 'regarder' é o correto para 'assistir'.",
                example: "Exemplo: <span class='gradient-red-blue'>Je regarde</span> un film. / Elle <span class='gradient-green-yellow'>écoute</span> de la musique."
            },
            {
                heading: "Aprenda a frase: Eu trabalho na área financeira",
                french: "Je travaille dans la finance",
                pronunciation: "JE TRAVAÍ DAN LA FINANS",
                brazilian: "Eu trabalho na área financeira",
                commonMistakes: [
                    "Literalmente traduzir 'área' para 'zone' ou 'aire', que é incorreto neste contexto.",
                    "Usar a preposição 'en' em vez de 'dans' para 'na área de'."
                ],
                consolidation: "Em francês, para se referir a uma área de trabalho, você usa a preposição **'dans'**. A palavra **'zone'** ou **'aire'** não é necessária, tornando a frase mais simples e direta.",
                example: "Exemplo: <span class='gradient-red-blue'>Je travaille dans le marketing.</span> / <span class='gradient-green-yellow'>Je travaille dans l'informatique.</span>"
            },
            {
                heading: "Aprenda a frase: Participei em um workshop",
                french: "J'ai participé à un atelier",
                pronunciation: "JÊI PARTISIPÊ A UN ATELIÊ",
                brazilian: "Participei em um workshop",
                commonMistakes: [
                    "Não usar o 'passé composé' para uma ação no passado.",
                    "Não usar a preposição correta 'à' com o verbo 'participer'."
                ],
                consolidation: "Use o 'passé composé' para ações concluídas no passado. O verbo 'participer' é sempre seguido da preposição 'à'.",
                example: "Exemplo: <span class='gradient-red-blue'>J'ai participé à la discussion</span> en partageant mes idées."
            },
            {
                heading: "Aprenda a frase: Participei em uma reunião",
                french: "J'ai assisté à une réunion",
                pronunciation: "JÊI ASISTÊ A UN RREÜNIÓN",
                brazilian: "Participei em uma reunião",
                commonMistakes: [
                    "Confundir 'assister' (estar presente) com 'participer' (participar ativamente).",
                    "Usar a tradução literal 'J'ai participé à une réunion' que tem um sentido diferente."
                ],
                consolidation: "O verbo 'assister' significa 'estar presente em um evento'. Use **'J'ai assisté à une réunion'** para expressar que você estava lá, não necessariamente que você contribuiu.",
                example: "Exemplo: <span class='gradient-red-blue'>J'ai assisté à la réunion</span> du matin."
            },
            {
                heading: "Aprenda a frase: Estou a caminho",
                french: "Je suis en route",
                pronunciation: "JE SUÍ ZAN RROUT",
                brazilian: "Estou a caminho",
                commonMistakes: [
                    "Literalmente traduzir 'a caminho' para 'au chemin'.",
                    "Esquecer a preposição 'en' e a palavra 'route'."
                ],
                consolidation: "**Je suis en route** é uma expressão idiomática comum que significa 'estou a caminho'.",
                example: "Exemplo: <span class='gradient-red-blue'>Je suis en route</span> pour le bureau."
            },
            {
                heading: "Aprenda a frase: Como se soletra isso?",
                french: "Comment ça s'écrit?",
                pronunciation: "COMÂN SA SEKRÍ",
                brazilian: "Como se soletra isso?",
                commonMistakes: [
                    "Traduzir literalmente 'Como você soletra isso?' para 'Comment tu épelles ça?'.",
                    "Não saber a forma pronominal 's'écrit'."
                ],
                consolidation: "**Comment ça s'écrit?** é uma expressão fixa usada para perguntar a ortografia de uma palavra. É uma pergunta muito comum.",
                example: "Exemplo: Je ne connais pas ce nom. <span class='gradient-red-blue'>Comment ça s'écrit?</span>"
            },
            {
                heading: "Aprenda a frase: Prazer em conhecê-lo/la",
                french: "Enchanté(e)",
                pronunciation: "AN-CHANTÉ",
                brazilian: "Prazer em conhecê-lo/la",
                commonMistakes: [
                    "Traduzir literalmente 'É um prazer te encontrar'.",
                    "Não saber que 'Enchanté' é uma saudação padrão e educada."
                ],
                consolidation: "**Enchanté(e)** é uma saudação padrão e educada quando você conhece alguém pela primeira vez. Adicione um 'e' no final se você for mulher.",
                example: "Exemplo: Bonjour, je m'appelle Ana. <span class='gradient-red-blue'>Enchantée.</span>"
            },
            {
                heading: "Aprenda a frase: Eu moro em...",
                french: "J'habite à...",
                pronunciation: "JABÍT A",
                brazilian: "Eu moro em...",
                commonMistakes: [
                    "Confundir 'habiter' (morar) com 'vivre' (viver).",
                    "Não saber qual preposição usar com 'habiter'."
                ],
                consolidation: "O verbo **habiter** é usado para uma residência permanente. É sempre seguido de **à** para uma cidade ou **en** para um país feminino, e **au** para um país masculino.",
                example: "Exemplo: <span class='gradient-red-blue'>J'habite à</span> Rio de Janeiro. / <span class='gradient-green-yellow'>J'habite en</span> France."
            },
            {
                heading: "Aprenda a frase: Estou com fome",
                french: "J'ai faim",
                pronunciation: "JÊI FAN",
                brazilian: "Estou com fome",
                commonMistakes: [
                    "Literalmente traduzir 'Eu estou com fome' para 'Je suis avec faim'.",
                    "Usar 'être' (ser/estar) em vez de 'avoir' (ter)."
                ],
                consolidation: "Em francês, você usa o verbo **avoir** ('ter') com o substantivo **faim** (fome), não **être** ('ser/estar').",
                example: "Exemplo: <span class='gradient-red-blue'>J'ai faim</span>, allons manger."
            },
            {
                heading: "Aprenda a frase: O que você faz da vida?",
                french: "Qu'est-ce que vous faites dans la vie?",
                pronunciation: "KÊSKE VU FÊTE DAN LA VÍ",
                brazilian: "O que você faz da vida? / Qual é a sua profissão?",
                commonMistakes: [
                    "Traduzir literalmente 'da vida' para 'de la vie'.",
                    "Não saber que esta é uma expressão fixa para perguntar sobre a profissão de alguém."
                ],
                consolidation: "**Qu'est-ce que vous faites dans la vie?** é uma pergunta natural e comum para perguntar sobre a profissão de alguém. É uma forma idiomática de perguntar sobre o trabalho de alguém.",
                example: "Exemplo: Vous semblez occupé. <span class='gradient-red-blue'>Qu'est-ce que vous faites dans la vie?</span>"
            },
            {
                heading: "Aprenda a frase: Preciso de um favor",
                french: "J'ai besoin d'un service",
                pronunciation: "JÊI BEZÓIN DIN SÊRVÍS",
                brazilian: "Preciso de um favor",
                commonMistakes: [
                    "Literalmente traduzir 'favor' para 'favor', que existe mas é menos comum.",
                    "Não saber que a construção é 'avoir besoin de'."
                ],
                consolidation: "A frase **'J'ai besoin d'un service'** é a forma correta de pedir um favor em francês. A construção é sempre com o verbo **'avoir'** ('ter') e **'besoin'** ('necessidade').",
                example: "Exemplo: <span class='gradient-red-blue'>J'ai besoin d'un service.</span> Tu peux m'aider à déménager?"
            },
            {
                heading: "Aprenda a frase: Eu concordo",
                french: "Je suis d'accord",
                pronunciation: "JE SUÍ D'ACÓR",
                brazilian: "Eu concordo",
                commonMistakes: [
                    "Usar o verbo 'concordar' (concorde) que é menos comum.",
                    "Não saber que a expressão é com o verbo 'être' (ser)."
                ],
                consolidation: "**'Je suis d'accord'** é a forma mais comum. Use o verbo 'être' com a expressão fixa 'd'accord' para expressar concordância.",
                example: "Exemplo: Je pense que nous devrions y aller maintenant. <span class='gradient-red-blue'>Je suis d'accord</span>."
            },
            {
                heading: "Aprenda a frase: Eu discordo",
                french: "Je ne suis pas d'accord",
                pronunciation: "JE NE SUÍ PA D'ACÓR",
                brazilian: "Eu discordo",
                commonMistakes: [
                    "Usar o verbo 'discordar' (discorde) que é menos comum.",
                    "Esquecer a dupla negação 'ne... pas'."
                ],
                consolidation: "**'Je ne suis pas d'accord'** é a forma mais comum para discordar. Use a negação 'ne... pas' com a expressão 'être d'accord'.",
                example: "Exemplo: Il pense que c'est un bon plan, mais <span class='gradient-red-blue'>je ne suis pas d'accord</span>."
            },
            {
                heading: "Aprenda a frase: Que horas são?",
                french: "Quelle heure est-il?",
                pronunciation: "QUEL EUR ÊT-IL",
                brazilian: "Que horas são?",
                commonMistakes: [
                    "Traduzir literalmente 'Que horas são?' para 'Quelles heures sont?'.",
                    "Esquecer o verbo 'être' e o pronome 'il'."
                ],
                consolidation: "A frase **'Quelle heure est-il?'** é uma expressão fixa. Sempre use esta forma para perguntar a hora.",
                example: "Exemplo: <span class='gradient-red-blue'>Quelle heure est-il?</span> Je suis en retard pour ma réunion."
            },
            {
                heading: "Aprenda a frase: Com licença",
                french: "Pardon / Excusez-moi",
                pronunciation: "PARDÔN / EK-SKÜZÊ MOÁ",
                brazilian: "Com licença",
                commonMistakes: [
                    "Traduzir literalmente 'Com licença' para 'Avec permission'.",
                    "Não saber a diferença de uso entre 'Pardon' (mais informal) e 'Excusez-moi' (mais formal)."
                ],
                consolidation: "**Pardon** e **Excusez-moi** são frases versáteis usadas para pedir licença, pedir desculpas ou chamar a atenção de alguém. 'Excusez-moi' é mais formal.",
                example: "Exemplo: <span class='gradient-red-blue'>Excusez-moi</span>, puis-je vous poser une question?"
            },
            {
                heading: "Aprenda a frase: Sem problemas",
                french: "Pas de problème",
                pronunciation: "PA DE PROBLÊM",
                brazilian: "Sem problemas",
                commonMistakes: [
                    "Usar 'sans' em vez de 'pas de'.",
                    "Usar o plural 'problèmes'."
                ],
                consolidation: "**'Pas de problème'** é a resposta padrão e informal em francês para 'obrigado' ou 'desculpe'. A frase está sempre no singular.",
                example: "Exemplo: Merci pour ton aide! - <span class='gradient-red-blue'>Pas de problème</span>."
            },
            {
                heading: "Aprenda a frase: Pode me ajudar?",
                french: "Pouvez-vous m'aider? / Puis-je vous aider?",
                pronunciation: "PUVÊ-VU MEDÊ / PUÍJE VU ZEDÊ",
                brazilian: "Pode me ajudar? / Posso te ajudar?",
                commonMistakes: [
                    "Confundir os verbos 'pouvoir' (poder) e 'savoir' (saber).",
                    "Não saber que 'pouvoir' e 'puis-je' são as formas de fazer uma pergunta."
                ],
                consolidation: "O verbo **'pouvoir'** é usado para fazer um pedido educado. **'Puis-je'** é uma forma ainda mais educada e formal. A frase é sempre seguida de um pronome objeto como 'me' ou 'vous'.",
                example: "Exemplo: <span class='gradient-red-blue'>Puis-je vous aider?</span> (Posso te ajudar?) / <span class='gradient-green-yellow'>Pouvez-vous m'aider?</span> (Pode me ajudar?)"
            }
        ];

        // DOM elements
        const contentContainer = document.getElementById('content-container');
        const matchingContainer = document.getElementById('matching-exercise-container');
        const translationContainer = document.getElementById('translation-exercise-container');

        // Functions to shuffle an array
        const shuffleArray = array => {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        };

        // Helper function to get clean text from phrase objects
        const getCleanText = (text) => text.replace(/<br\/>/g, ' / ').replace(/<.*?>/g, '').trim();

        // Matching exercise logic
        let selectedCards = [];
        let matchedCount = 0;
        const totalMatches = 10;

        function showMessage(container, msg, colorClass) {
            const messageElement = document.createElement('div');
            messageElement.textContent = msg;
            messageElement.className = `mt-4 text-center font-bold ${colorClass}`;
            container.appendChild(messageElement);
            setTimeout(() => {
                messageElement.remove();
            }, 3000);
        }

        function renderMatchingExercise() {
            const exercisePhrases = shuffleArray([...phrases]).slice(0, totalMatches);
            const frenchCards = shuffleArray(exercisePhrases.map(p => ({ text: getCleanText(p.french), id: getCleanText(p.brazilian) })));
            const brazilianCards = shuffleArray(exercisePhrases.map(p => ({ text: getCleanText(p.brazilian), id: getCleanText(p.brazilian) })));

            let html = `
                <h2 class="text-2xl font-bold text-white mb-4">Exercício de Correspondência</h2>
                <div class="bg-gray-700 bg-opacity-30 p-6 rounded-xl shadow-lg">
                    <p class="text-lg mb-4 text-center">Combine a frase em francês com a sua tradução em português. <span id="match-score" class="text-yellow-400 font-extrabold">0/${totalMatches}</span></p>
                    <div class="grid grid-cols-2 gap-4">
                        <div id="french-col" class="space-y-2">
                            ${frenchCards.map(card => `<div data-id="${card.id}" class="match-card bg-gray-600 text-white p-4 rounded-lg">${card.text}</div>`).join('')}
                        </div>
                        <div id="brazilian-col" class="space-y-2">
                            ${brazilianCards.map(card => `<div data-id="${card.id}" class="match-card bg-gray-600 text-white p-4 rounded-lg">${card.text}</div>`).join('')}
                        </div>
                    </div>
                </div>
            `;
            matchingContainer.innerHTML = html;
            selectedCards = [];
            matchedCount = 0;

            document.querySelectorAll('.match-card').forEach(card => {
                card.addEventListener('click', () => {
                    if (card.classList.contains('correct') || selectedCards.length === 2) {
                        return;
                    }

                    card.classList.add('selected');
                    selectedCards.push(card);

                    if (selectedCards.length === 2) {
                        const [card1, card2] = selectedCards;
                        if (card1.dataset.id === card2.dataset.id && card1 !== card2) {
                            card1.classList.add('correct');
                            card2.classList.add('correct');
                            card1.classList.remove('selected');
                            card2.classList.remove('selected');
                            matchedCount++;
                            document.getElementById('match-score').textContent = `${matchedCount}/${totalMatches}`;
                            if (matchedCount === totalMatches) {
                                showMessage(matchingContainer, 'Parabéns! Você combinou todas as frases.', 'text-green-400');
                                setTimeout(renderMatchingExercise, 3000);
                            }
                        } else {
                            card1.classList.add('incorrect');
                            card2.classList.add('incorrect');
                            showMessage(matchingContainer, 'Incorreto. Tente novamente.', 'text-red-400');
                            setTimeout(() => {
                                card1.classList.remove('selected', 'incorrect');
                                card2.classList.remove('selected', 'incorrect');
                            }, 1000);
                        }
                        selectedCards = [];
                    }
                });
            });
        }

        // Translation exercise logic
        let translationPhrases = [];
        let translationIndex = 0;
        const totalTranslationExercises = 10;

        function initializeTranslationExercise() {
            translationPhrases = shuffleArray([...phrases]).slice(0, totalTranslationExercises);
            translationIndex = 0;
            getNewTranslationPhrase();
        }

        function showTranslationMessage(message, color) {
            const msgElement = document.getElementById('translation-message');
            msgElement.textContent = message;
            msgElement.className = `mt-4 text-center font-bold ${color}`;
        }

        function getNewTranslationPhrase() {
            if (translationIndex >= totalTranslationExercises) {
                showTranslationMessage('Parabéns! Você completou todos os exercícios de tradução.', 'text-green-400');
                document.getElementById('check-btn').style.display = 'none';
                document.getElementById('next-btn').style.display = 'none';
                document.getElementById('show-answer-btn').style.display = 'none';
                return;
            }

            const currentPhrase = translationPhrases[translationIndex];
            const prompt = getCleanText(currentPhrase.brazilian);
            const answers = getCleanText(currentPhrase.french).toLowerCase().split(' / ').map(a => a.trim());
            
            document.getElementById('translation-prompt').innerHTML = `Traduza esta frase para o francês: <br/><strong>"${prompt}"</strong>`;
            document.getElementById('translation-input').value = '';
            document.getElementById('translation-input').dataset.answers = JSON.stringify(answers);
            document.getElementById('show-answer-btn').style.display = 'none';
            document.getElementById('next-btn').style.display = 'none';
            document.getElementById('check-btn').style.display = 'inline-block';
            showTranslationMessage('', '');
            
            document.getElementById('translation-score').textContent = `${translationIndex + 1}/${totalTranslationExercises}`;
        }

        function checkTranslation() {
            const input = document.getElementById('translation-input').value.toLowerCase().trim();
            const answers = JSON.parse(document.getElementById('translation-input').dataset.answers);

            if (answers.includes(input)) {
                showTranslationMessage('Correto!', 'text-green-400');
                document.getElementById('next-btn').style.display = 'inline-block';
                document.getElementById('check-btn').style.display = 'none';
                document.getElementById('show-answer-btn').style.display = 'none';
            } else {
                showTranslationMessage(`Incorreto. Tente novamente.`, 'text-red-400');
                document.getElementById('show-answer-btn').style.display = 'inline-block';
            }
        }

        function showAnswer() {
            const answers = JSON.parse(document.getElementById('translation-input').dataset.answers);
            showTranslationMessage(`A(s) resposta(s) correta(s) é/são: ${answers.join(' / ')}`, 'text-blue-400');
            document.getElementById('next-btn').style.display = 'inline-block';
            document.getElementById('check-btn').style.display = 'none';
            document.getElementById('show-answer-btn').style.display = 'none';
        }

        function renderTranslationExercise() {
            const html = `
                <h2 class="text-2xl font-bold text-white mb-4">Exercício de Tradução</h2>
                <div class="bg-gray-700 bg-opacity-30 p-6 rounded-xl shadow-lg">
                    <p class="text-lg mb-2 text-center">Traduza do português para o francês. <span id="translation-score" class="text-yellow-400 font-extrabold">1/10</span></p>
                    <p id="translation-prompt" class="text-lg mb-4 text-center"></p>
                    <div class="flex flex-col sm:flex-row items-center gap-4">
                        <input id="translation-input" type="text" placeholder="Sua tradução" class="flex-grow p-3 rounded-lg bg-gray-800 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-yellow-400">
                        <button id="check-btn" class="w-full sm:w-auto px-6 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg font-bold transition-all">Verificar</button>
                        <button id="next-btn" class="w-full sm:w-auto px-6 py-3 bg-green-600 hover:bg-green-700 rounded-lg font-bold transition-all" style="display:none;">Próximo</button>
                        <button id="show-answer-btn" class="w-full sm:w-auto px-6 py-3 bg-orange-600 hover:bg-orange-700 rounded-lg font-bold transition-all" style="display:none;">Mostrar Resposta</button>
                    </div>
                    <p id="translation-message" class="text-center font-bold mt-4"></p>
                </div>
            `;
            translationContainer.innerHTML = html;
            
            document.getElementById('check-btn').addEventListener('click', checkTranslation);
            document.getElementById('next-btn').addEventListener('click', () => {
                translationIndex++;
                getNewTranslationPhrase();
            });
            document.getElementById('show-answer-btn').addEventListener('click', showAnswer);
            document.getElementById('translation-input').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    checkTranslation();
                }
            });
            
            initializeTranslationExercise();
        }

        // Function to generate and render all sections
        function renderAllSections() {
            let allSectionsHTML = '';

            phrases.forEach(phrase => {
                allSectionsHTML += `
                    <div class="section-container">
                        <h2 class="text-2xl font-bold text-white mb-4">${phrase.heading}</h2>
                        <div class="table-container p-4">
                            <table class="w-full text-left rounded-xl overflow-hidden border-collapse">
                                <thead class="table-header">
                                    <tr>
                                        <th class="p-4 border-r border-r-[#4a4a6e]">Francês</th>
                                        <th class="p-4 border-r border-r-[#4a4a6e]">Pronúncia</th>
                                        <th class="p-4">Português Brasileiro</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="table-cell table-row">
                                        <td class="table-cell font-semibold text-lg border-r border-r-[#4a4a6e]">${phrase.french}</td>
                                        <td class="table-cell text-sm border-r border-r-[#4a4a6e]">${phrase.pronunciation}</td>
                                        <td class="table-cell text-center font-bold text-lg">
                                            ${phrase.brazilian}
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="3" class="table-cell bg-gray-700 bg-opacity-30">
                                            <p class="text-sm mb-2">
                                                <span class="font-bold text-orange-400">Erros Comuns:</span>
                                            </p>
                                            <ol class="list-decimal list-inside text-sm pl-4 mb-2">
                                                <li class="font-bold gradient-red-blue mb-1">${phrase.commonMistakes[0]}</li>
                                                <li class="font-bold gradient-green-yellow">${phrase.commonMistakes[1]}</li>
                                            </ol>
                                            <p class="text-sm font-bold mb-2">
                                                ${phrase.consolidation}
                                            </p>
                                            <p class="text-sm font-bold">
                                                ${phrase.example}
                                            </p>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                `;
            });

            contentContainer.innerHTML = allSectionsHTML;
            renderMatchingExercise();
            renderTranslationExercise();
        }

        // Initialize the app on window load
        window.onload = function () {
            renderAllSections();
        };
    </script>
</body>
</html>
